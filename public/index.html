<!DOCTYPE html>
<html>
<head>
  <title>Spaces Protocol | Scalable &amp; Permissionless Bitcoin Identities</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">

<link rel="stylesheet" href="/spaces.css" media="all">
<meta name="description" content="Scalable & Permissionless Bitcoin Identities">

 <meta property="og:type" content="website">
 <meta property="og:url" content="https://spacesprotocol.org">
 <meta property="og:title" content="Spaces Protocol">
 <meta property="og:description" content="Scalable & Permissionless Bitcoin Identities">
 <meta property="og:image" content="https://spacesprotocol.org/images/card.png">
 <meta name="twitter:card" content="summary_large_image">
 <meta name="twitter:url" content="https://spacesprotocol.org">
 <meta name="twitter:title" content="Spaces Protocol">
 <meta name="twitter:description" content="Scalable & Permissionless Bitcoin Identities">
 <meta name="twitter:image" content="https://spacesprotocol.org/images/card.png">
 <script defer data-domain="spacesprotocol.org" src="https://plausible.io/js/script.js"></script>   
</head>
<body>
    <div class="header">
        <nav class="header-nav">
            <a target="_blank" href="https://github.com/spacesprotocol">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M24.0432 0.179932C10.8147 0.179932 0.0876465 11.0878 0.0876465 24.5445C0.0876465 35.3096 6.95165 44.4426 16.4699 47.6643C17.6671 47.8899 18.1067 47.1358 18.1067 46.4922C18.1067 45.9112 18.0845 43.9919 18.0742 41.956C11.4097 43.4299 10.0034 39.0812 10.0034 39.0812C8.9137 36.265 7.34358 35.5161 7.34358 35.5161C5.17009 34.0039 7.50742 34.035 7.50742 34.035C9.91297 34.2065 11.1796 36.5458 11.1796 36.5458C13.3162 40.2707 16.7837 39.1938 18.1507 38.5712C18.3657 36.9969 18.9866 35.9212 19.6716 35.3132C14.3508 34.6971 8.7574 32.6079 8.7574 23.2719C8.7574 20.6118 9.6932 18.4383 11.2256 16.732C10.9769 16.1179 10.1569 13.6402 11.4577 10.2841C11.4577 10.2841 13.4693 9.62928 18.0472 12.7816C19.9581 12.2418 22.0074 11.971 24.0432 11.9618C26.0791 11.971 28.13 12.2418 30.0444 12.7816C34.6167 9.62928 36.6256 10.2841 36.6256 10.2841C37.9295 13.6402 37.1091 16.1179 36.8604 16.732C38.3964 18.4383 39.3259 20.6118 39.3259 23.2719C39.3259 32.6301 33.7218 34.6906 28.3874 35.2938C29.2467 36.0499 30.0123 37.5327 30.0123 39.8059C30.0123 43.0655 29.9845 45.6893 29.9845 46.4922C29.9845 47.1406 30.4157 47.9003 31.63 47.6611C41.1431 44.4357 47.9984 35.3059 47.9984 24.5445C47.9984 11.0878 37.273 0.179932 24.0432 0.179932Z" class="nav-icon"/>
                    </svg>
                    
            </a>
    
            <a target="_blank" href="https://t.me/spacesprotocol">
                <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_179_23)">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24ZM16.0715 21.8015C13.6673 22.8512 11.1971 23.9298 8.93825 25.174C7.75877 26.0376 9.32638 26.6485 10.7971 27.2215C11.0309 27.3126 11.2622 27.4027 11.4797 27.4927C11.6607 27.5484 11.8447 27.607 12.0312 27.6664C13.6669 28.1875 15.4907 28.7686 17.0787 27.8945C19.6873 26.396 22.149 24.6636 24.6089 22.9325C25.4148 22.3653 26.2205 21.7983 27.0311 21.2397C27.0691 21.2154 27.1119 21.1876 27.1588 21.1573C27.8493 20.7096 29.4024 19.7029 28.8279 21.0901C27.4695 22.5757 26.0144 23.8907 24.5515 25.213C23.5655 26.1041 22.5759 26.9985 21.6099 27.9505C20.7686 28.6341 19.8949 30.0088 20.837 30.9661C23.0069 32.4851 25.2107 33.9673 27.4132 35.4487C28.1299 35.9307 28.8466 36.4127 29.5618 36.8959C30.774 37.8637 32.6685 37.0808 32.935 35.5685C33.0535 34.8728 33.1725 34.1772 33.2915 33.4815C33.9491 29.6368 34.6069 25.7907 35.188 21.9335C35.267 21.3284 35.3565 20.7234 35.4461 20.1181C35.6632 18.651 35.8806 17.1821 35.9485 15.7071C35.7735 14.2351 33.9887 14.5588 32.9955 14.8898C27.8903 16.8324 22.8361 18.919 17.8019 21.0424C17.2316 21.295 16.6535 21.5474 16.0715 21.8015Z" class="nav-icon"/>
                    </g>
                    <defs>
                    <clipPath id="clip0_179_23">
                    <rect width="48" height="48" fill="white"/>
                    </clipPath>
                    </defs>
                    </svg>                
            </a>
    
           
        </nav>
    </div>
<div class="container">
    
  <div class="sidebar">

    <nav id="TableOfContents">
  <ul>
    <li><a href="#bitcoin-testnet">Bitcoin Testnet</a>
      <ul>
        <li><a href="#prerequisites">Prerequisites</a></li>
        <li><a href="#testnet-sync">Testnet sync</a></li>
        <li><a href="#install-spaced">Install <code>spaced</code></a></li>
        <li><a href="#connect-to-bitcoin-core">Connect to Bitcoin Core</a></li>
        <li><a href="#creating-a-wallet">Creating a wallet</a></li>
        <li><a href="#getting-testnet-coins">Getting testnet coins</a></li>
        <li><a href="#opening-an-auction">Opening an auction</a></li>
        <li><a href="#placing-a-bid">Placing a bid</a></li>
        <li><a href="#space-details">Space details</a></li>
        <li><a href="#registering-a-space">Registering a Space</a></li>
        <li><a href="#receiving-payments">Receiving payments</a></li>
        <li><a href="#more-information">More information</a></li>
      </ul>
    </li>
  </ul>
</nav>

  </div>
  <div id="content" class="main">
      <div style="display: flex; list-style: none;">
          <a style="margin-right:12px;" href="/">Home</a>  <span>|</span>  <a style="margin-left:12px;" href="/pages/paper">Paper</a>
      </div>

    <div style="text-align: center;margin-bottom:4em;margin-top:4em;">
  <h1 style="font-size:4em;margin-bottom:-0.1em;margin-left:0;margin-right:0;margin-top:0;">Spaces Protocol</h1>
  <p style="font-size: 1.4em">Scalable & Permissionless Bitcoin Identities</h1>
</div>
<p>Spaces is a naming protocol that leverages the existing infrastructure and security of Bitcoin without requiring a new blockchain or any modifications to Bitcoin itself. Spaces is a permissionless protocol and can be used as decentralized social handles for <a href="https://nostr.com/">Nostr</a>, receiving payments and other digital interactions. On-chain Spaces are represented as Bitcoin UTXOs, they take full advantage of Bitcoin&rsquo;s security, and have minimal on-chain footprint.</p>
<h1 id="bitcoin-testnet">Bitcoin Testnet</h1>
<p>You can now try the base functionality of the Spaces protocol on <a href="https://mempool.space/testnet">Bitcoin testnet3</a>! First, download Bitcoin Core and set it up using these steps:</p>
<img src="/images/bcs.png" alt="Spaces Protocol" style="width:100%;margin-top:2em;margin-bottom:2em;">
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li><a href="https://bitcoincore.org/en/download/">Bitcoin Core</a></li>
<li><a href="https://www.rust-lang.org/tools/install">Rust</a></li>
</ul>
<h2 id="testnet-sync">Testnet sync</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Create a directory for Bitcoin testnet data</span>
</span></span><span class="line"><span class="cl">mkdir <span class="nv">$HOME</span>/bitcoin-testnet
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Create a configuration file with RPC credentials</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;rpcuser=test&#34;</span> &gt; <span class="nv">$HOME</span>/bitcoin-testnet/bitcoin.conf
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;rpcpassword=test&#34;</span> &gt;&gt; <span class="nv">$HOME</span>/bitcoin-testnet/bitcoin.conf
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Start Bitcoin Core in testnet mode</span>
</span></span><span class="line"><span class="cl">bitcoind -testnet -datadir<span class="o">=</span><span class="nv">$HOME</span>/bitcoin-testnet
</span></span></code></pre></div><p>Spaces protocol is activated on Bitcoin testnet block <code>2865460</code> - wait for <code>bitcoind</code> to sync up to that block before proceeding.</p>
<h2 id="install-spaced">Install <code>spaced</code></h2>
<p><code>spaced</code> is a tiny layer on top of Bitcoin Core allowing you to interact with Spaces. To compile <code>spaced</code>, you need to install Rust and then</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># Clone the repository</span>
</span></span><span class="line"><span class="cl">git clone https://github.com/spacesprotocol/spaced <span class="o">&amp;&amp;</span> <span class="nb">cd</span> spaced
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Build the release version</span>
</span></span><span class="line"><span class="cl">cargo build --release
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Install the binaries</span>
</span></span><span class="line"><span class="cl">cargo install --path .
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Ensure Cargo&#39;s bin directory is in your PATH</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s1">&#39;export PATH=&#34;$HOME/.cargo/bin:$PATH&#34;&#39;</span> &gt;&gt; ~/.bashrc
</span></span><span class="line"><span class="cl"><span class="nb">source</span> ~/.bashrc
</span></span></code></pre></div><p>Verify you have <code>spaced</code> and <code>space-cli</code> installed:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">spaced --version
</span></span><span class="line"><span class="cl">space-cli --version
</span></span></code></pre></div><h2 id="connect-to-bitcoin-core">Connect to Bitcoin Core</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">spaced --chain testnet --bitcoin-rpc-user <span class="nb">test</span> --bitcoin-rpc-password <span class="nb">test</span>
</span></span></code></pre></div><h2 id="creating-a-wallet">Creating a wallet</h2>
<p><code>space-cli</code> is a command-line tool that makes it easy to interact with Spaces. It also functions as a Bitcoin wallet. To create a new wallet, run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">space-cli createwallet &lt;optional-wallet-name&gt;
</span></span></code></pre></div><h2 id="getting-testnet-coins">Getting testnet coins</h2>
<p>You can get testnet coins from a <a href="https://bitcoinfaucet.uo1.net/">testnet faucet</a> but these faucets give very small amounts. If you need more, you can ask in the <a href="https://t.me/spacesprotocol">Spaces Telegram</a> group.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">space-cli getnewaddress
</span></span></code></pre></div><p>The <code>getnewaddress</code> command will return an address you can use to receive testnet coins compatible with most Bitcoin wallets. You
can also use <code>getnewspaceaddress</code> to return a special Bitcoin address for receiving Spaces.</p>
<p>Check your balance:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">space-cli balance
</span></span></code></pre></div><h2 id="opening-an-auction">Opening an auction</h2>
<p>To open an auction for a Space, run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">space-cli open bitcoin
</span></span></code></pre></div><p>You will get a similar output to this</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">[</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;txid&#34;</span><span class="p">:</span> <span class="s2">&#34;fa55b7e5e5b54e170a99f26dcb43baf207d922efb8d69304993c255f61c6ca43&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tags&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;auction-outputs&#34;</span><span class="p">,</span> <span class="s2">&#34;commitment&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;txid&#34;</span><span class="p">:</span> <span class="s2">&#34;aeba215372b5095640416c7bac31feecdb8cc0589803172939c0fb0b233d6785&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;tags&#34;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&#34;open&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div><p>The tags field indicate the reason(s) for this transaction. In this case, the first is creating a P2TR script commitment and initial outputs to auction off.
Second one opens the auction by revealing the Space.</p>
<h2 id="placing-a-bid">Placing a bid</h2>
<p>To place a bid on an open auction:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">space-cli bid bitcoin <span class="m">1500</span>
</span></span></code></pre></div><p>Bid amounts are in satoshis.</p>
<h2 id="space-details">Space details</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">space-cli getspace bitcoin
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;outpoint&#34;</span><span class="p">:</span> <span class="s2">&#34;45b06887c6f560af607f833fe78edd40327b177a60c9c22b21894510cd094b7c:1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="mi">662</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;script_pubkey&#34;</span><span class="p">:</span> <span class="s2">&#34;5120dcb42260e175ed4c27709ca0b9246a2a0506471bbac000c7caf5503c5f5ff176&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;@bitcoin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;covenant&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;bid&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;burn_increment&#34;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;signature&#34;</span><span class="p">:</span> <span class="s2">&#34;........&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;total_burned&#34;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;claim_height&#34;</span><span class="p">:</span> <span class="kc">null</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>You can use <code>listspaces</code> command to see all outputs representing spaces you own
including outputs that are actively in an auction.</p>
<p>The <code>bid</code> covenant indicates spending this output requires either another bid spend or a registration spend if the claim height is reached. There are three types of covenants: <code>bid</code>, <code>transfer</code>, and <code>reserved</code>.</p>
<p>Spends that don&rsquo;t satisfy a covenant condition will be revoked by the protocol causing the winner bidder to lose any coins they have burned or ownership of their name.</p>
<p>The <code>claim_height</code> field is not populated in the above output indicating the name is still in the pre-auctions phase. Every 144 blocks, the top 10 names with highest bids are rolled out to the auctions.</p>
<p>Once a Space is in the auctions phase, the <code>claim_height</code> indicates the block height at which the winning bidder may register the Space.</p>
<p>Auctions continue indefinitely until a winning bidder claims their Space.</p>
<h2 id="registering-a-space">Registering a Space</h2>
<p>To register a Space:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">space-cli register bitcoin
</span></span></code></pre></div><p>If you are the winning bidder and registering after the <code>claim_height</code>, you will get something like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;outpoint&#34;</span><span class="p">:</span> <span class="s2">&#34;45b06887c6f560af607f833fe78edd40327b177a60c9c22b21894510cd094b7c:1&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;value&#34;</span><span class="p">:</span> <span class="mi">662</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;script_pubkey&#34;</span><span class="p">:</span> <span class="s2">&#34;5120dcb42260e175ed4c27709ca0b9246a2a0506471bbac000c7caf5503c5f5ff176&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;@bitcoin&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;covenant&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;transfer&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;expire_height&#34;</span><span class="p">:</span> <span class="mi">2918106</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;data&#34;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="receiving-payments">Receiving payments</h2>
<p>As a Space owner you can receive payments by sharing your Space handle.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">space-cli send <span class="m">1000</span> --to @bitcoin
</span></span></code></pre></div><p>Amount is in satoshis.</p>
<h2 id="more-information">More information</h2>
<p>Use <code>space-cli help</code> to see all other available commands and options. Ask in the <a href="https://t.me/spacesprotocol">Spaces Telegram</a> group if you have any questions or need help.</p>

  </div>
</div> 

<script>
document.addEventListener('DOMContentLoaded', (event) => {
    const observer = new IntersectionObserver((entries) => {
        let entry = entries.findLast(entry => entry.isIntersecting);
        if (!entry) return;
        document.querySelectorAll('li > a').forEach(link => { link.classList.remove('active'); });
        
        const id = entry.target.getAttribute('id');
        const tocLink = document.querySelector(`a[href="#${id}"]`);
        
        if (tocLink) {
            tocLink.classList.add('active');
        } 
    }, {
        rootMargin: '0px',
        threshold: 1,
    });


    document.querySelectorAll('h1, h2').forEach(section => {
        observer.observe(section);
    });
});
</script>
</body>
</html>
